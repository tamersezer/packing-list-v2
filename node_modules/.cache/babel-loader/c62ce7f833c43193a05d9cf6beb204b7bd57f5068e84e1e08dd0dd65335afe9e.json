{"ast":null,"code":"var _jsxFileName = \"/Users/tamersezer/Cursor Projects/Deneme/src/components/packing/PackingListForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { productService } from '../../services/api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PackingListForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const isEditing = Boolean(id);\n  const [packageType, setPackageType] = useState('pallet');\n  const [packageRange, setPackageRange] = useState({\n    start: 1,\n    end: 1\n  });\n  const [products, setProducts] = useState([]);\n  const [packageItems, setPackageItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [totals, setTotals] = useState({\n    grossWeight: 0,\n    netWeight: 0,\n    dimensions: {\n      length: packageType === 'pallet' ? 80 : 0,\n      width: packageType === 'pallet' ? 120 : 0,\n      height: 0\n    }\n  });\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const data = await productService.getAll();\n        setProducts(data);\n      } catch (error) {\n        toast.error('Failed to load products');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchProducts();\n  }, []);\n  const handleRangeChange = (field, value) => {\n    const numValue = parseInt(value) || 1;\n    setPackageRange(prev => ({\n      ...prev,\n      [field]: numValue\n    }));\n  };\n  const calculateWeights = (product, quantity) => {\n    return {\n      gross: Number((product.weights.gross * quantity).toFixed(1)),\n      net: Number((product.weights.net * quantity).toFixed(1))\n    };\n  };\n  const handleAddProduct = product => {\n    const {\n      gross,\n      net\n    } = calculateWeights(product, product.boxQuantity);\n    setPackageItems(prev => [...prev, {\n      product,\n      quantity: product.boxQuantity,\n      totalGrossWeight: gross,\n      totalNetWeight: net\n    }]);\n  };\n  const handleQuantityChange = (index, value) => {\n    const numValue = parseInt(value) || 1;\n    setPackageItems(prev => prev.map((item, i) => {\n      if (i === index) {\n        const {\n          gross,\n          net\n        } = calculateWeights(item.product, numValue);\n        return {\n          ...item,\n          quantity: numValue,\n          totalGrossWeight: gross,\n          totalNetWeight: net\n        };\n      }\n      return item;\n    }));\n  };\n  const handleRemoveProduct = index => {\n    setPackageItems(prev => prev.filter((_, i) => i !== index));\n  };\n  const calculateTotals = items => {\n    const itemTotals = items.reduce((acc, item) => ({\n      gross: acc.gross + item.totalGrossWeight,\n      net: acc.net + item.totalNetWeight\n    }), {\n      gross: 0,\n      net: 0\n    });\n    const grossWeight = packageType === 'pallet' ? itemTotals.gross + 24 : itemTotals.gross;\n    return {\n      grossWeight: Number(grossWeight.toFixed(1)),\n      netWeight: Number(itemTotals.net.toFixed(1))\n    };\n  };\n  useEffect(() => {\n    const {\n      grossWeight,\n      netWeight\n    } = calculateTotals(packageItems);\n    setTotals(prev => ({\n      ...prev,\n      grossWeight,\n      netWeight\n    }));\n  }, [packageItems, packageType]);\n  useEffect(() => {\n    if (packageType === 'pallet') {\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          length: 80,\n          width: 120,\n          height: 0\n        }\n      }));\n    } else if (packageItems.length > 0) {\n      const firstProduct = packageItems[0].product;\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          length: firstProduct.boxDimensions.length,\n          width: firstProduct.boxDimensions.width,\n          height: firstProduct.boxDimensions.height\n        }\n      }));\n    }\n  }, [packageType, packageItems]);\n  const handleTotalChange = (field, value) => {\n    const numValue = parseFloat(value) || 0;\n    if (field === 'grossWeight' || field === 'netWeight') {\n      setTotals(prev => ({\n        ...prev,\n        [field]: Number(numValue.toFixed(1))\n      }));\n    } else {\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          ...prev.dimensions,\n          [field]: Number(numValue.toFixed(1))\n        }\n      }));\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-48\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 dark:text-white\",\n        children: isEditing ? 'Edit Packing List' : 'Create New Packing List'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/packing-list'),\n        className: \"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\",\n        children: \"Back to List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 shadow rounded-lg p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                children: \"Package Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex bg-gray-200 dark:bg-gray-700 rounded-lg p-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setPackageType('pallet'),\n                  className: `\n                      px-4 py-2 text-sm font-medium rounded-md\n                      ${packageType === 'pallet' ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}\n                    `,\n                  children: \"Pallet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setPackageType('carton'),\n                  className: `\n                      px-4 py-2 text-sm font-medium rounded-md\n                      ${packageType === 'carton' ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}\n                    `,\n                  children: \"Carton\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                children: \"Package No:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"1\",\n                  value: packageRange.start,\n                  onChange: e => handleRangeChange('start', e.target.value),\n                  className: \"w-20 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\",\n                  disabled: packageType === 'pallet'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), packageType === 'carton' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500 dark:text-gray-400\",\n                    children: \"to\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: packageRange.start,\n                    value: packageRange.end,\n                    onChange: e => handleRangeChange('end', e.target.value),\n                    className: \"w-20 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [packageItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-900 dark:text-white\",\n                    children: item.product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 dark:text-gray-400\",\n                    children: [\"Weight: \", item.totalGrossWeight, \" kg gross / \", item.totalNetWeight, \" kg net\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"1\",\n                    value: item.quantity,\n                    onChange: e => handleQuantityChange(index, e.target.value),\n                    className: \"w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveProduct(index),\n                    className: \"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\",\n                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"h-5 w-5\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M6 18L18 6M6 6l12 12\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"w-full px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md focus:outline-none\",\n                  onClick: () => {\n                    const menu = document.getElementById('productMenu');\n                    if (menu) menu.classList.toggle('hidden');\n                  },\n                  children: \"+ Add Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"productMenu\",\n                  className: \"hidden absolute z-10 mt-2 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 max-h-60 overflow-auto\",\n                  children: products.filter(product => !packageItems.some(item => item.product.id === product.id)).map(product => /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\",\n                    onClick: () => {\n                      handleAddProduct(product);\n                      const menu = document.getElementById('productMenu');\n                      if (menu) menu.classList.add('hidden');\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500 dark:text-gray-400\",\n                      children: [\"HS Code: \", product.hsCode, \" | Box Qty: \", product.boxQuantity]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 bg-white dark:bg-gray-800 shadow rounded-lg p-6 h-fit sticky top-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: \"Package Totals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: \"Total Gross Weight (kg)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.1\",\n              value: totals.grossWeight,\n              onChange: e => handleTotalChange('grossWeight', e.target.value),\n              className: \"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: \"Total Net Weight (kg)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.1\",\n              value: totals.netWeight,\n              onChange: e => handleTotalChange('netWeight', e.target.value),\n              className: \"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n              children: \"Dimensions (cm)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.1\",\n                  value: totals.dimensions.length,\n                  onChange: e => handleTotalChange('length', e.target.value),\n                  placeholder: \"Length\",\n                  className: \"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.1\",\n                  value: totals.dimensions.width,\n                  onChange: e => handleTotalChange('width', e.target.value),\n                  placeholder: \"Width\",\n                  className: \"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.1\",\n                  value: totals.dimensions.height,\n                  onChange: e => handleTotalChange('height', e.target.value),\n                  placeholder: \"Height\",\n                  className: \"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 mt-4\",\n            children: \"Add Package\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(PackingListForm, \"aCIpU2PBv+N7LD4E7yhooLyB3YM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PackingListForm;\nvar _c;\n$RefreshReg$(_c, \"PackingListForm\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","productService","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","PackingListForm","_s","id","navigate","isEditing","Boolean","packageType","setPackageType","packageRange","setPackageRange","start","end","products","setProducts","packageItems","setPackageItems","isLoading","setIsLoading","totals","setTotals","grossWeight","netWeight","dimensions","length","width","height","fetchProducts","data","getAll","error","handleRangeChange","field","value","numValue","parseInt","prev","calculateWeights","product","quantity","gross","Number","weights","toFixed","net","handleAddProduct","boxQuantity","totalGrossWeight","totalNetWeight","handleQuantityChange","index","map","item","i","handleRemoveProduct","filter","_","calculateTotals","items","itemTotals","reduce","acc","firstProduct","boxDimensions","handleTotalChange","parseFloat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","min","onChange","e","target","disabled","name","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","menu","document","getElementById","classList","toggle","some","add","hsCode","step","placeholder","_c","$RefreshReg$"],"sources":["/Users/tamersezer/Cursor Projects/Deneme/src/components/packing/PackingListForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { productService } from '../../services/api';\nimport type { Product } from '../../types/Product';\nimport { toast } from 'react-toastify';\n\ntype PackageType = 'pallet' | 'carton';\n\ninterface PackageRange {\n  start: number;\n  end: number;\n}\n\ninterface PackageItem {\n  product: Product;\n  quantity: number;\n  totalGrossWeight: number;\n  totalNetWeight: number;\n}\n\ninterface PackageTotals {\n  grossWeight: number;\n  netWeight: number;\n  dimensions: {\n    length: number;\n    width: number;\n    height: number;\n  };\n}\n\nexport const PackingListForm: React.FC = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isEditing = Boolean(id);\n\n  const [packageType, setPackageType] = useState<PackageType>('pallet');\n  const [packageRange, setPackageRange] = useState<PackageRange>({ start: 1, end: 1 });\n  const [products, setProducts] = useState<Product[]>([]);\n  const [packageItems, setPackageItems] = useState<PackageItem[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [totals, setTotals] = useState<PackageTotals>({\n    grossWeight: 0,\n    netWeight: 0,\n    dimensions: {\n      length: packageType === 'pallet' ? 80 : 0,\n      width: packageType === 'pallet' ? 120 : 0,\n      height: 0\n    }\n  });\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const data = await productService.getAll();\n        setProducts(data);\n      } catch (error) {\n        toast.error('Failed to load products');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  const handleRangeChange = (field: keyof PackageRange, value: string) => {\n    const numValue = parseInt(value) || 1;\n    setPackageRange(prev => ({\n      ...prev,\n      [field]: numValue\n    }));\n  };\n\n  const calculateWeights = (product: Product, quantity: number): { gross: number; net: number } => {\n    return {\n      gross: Number((product.weights.gross * quantity).toFixed(1)),\n      net: Number((product.weights.net * quantity).toFixed(1))\n    };\n  };\n\n  const handleAddProduct = (product: Product) => {\n    const { gross, net } = calculateWeights(product, product.boxQuantity);\n    setPackageItems(prev => [...prev, {\n      product,\n      quantity: product.boxQuantity,\n      totalGrossWeight: gross,\n      totalNetWeight: net\n    }]);\n  };\n\n  const handleQuantityChange = (index: number, value: string) => {\n    const numValue = parseInt(value) || 1;\n    setPackageItems(prev => prev.map((item, i) => {\n      if (i === index) {\n        const { gross, net } = calculateWeights(item.product, numValue);\n        return {\n          ...item,\n          quantity: numValue,\n          totalGrossWeight: gross,\n          totalNetWeight: net\n        };\n      }\n      return item;\n    }));\n  };\n\n  const handleRemoveProduct = (index: number) => {\n    setPackageItems(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const calculateTotals = (items: PackageItem[]) => {\n    const itemTotals = items.reduce(\n      (acc, item) => ({\n        gross: acc.gross + item.totalGrossWeight,\n        net: acc.net + item.totalNetWeight\n      }),\n      { gross: 0, net: 0 }\n    );\n\n    const grossWeight = packageType === 'pallet' \n      ? itemTotals.gross + 24 \n      : itemTotals.gross;\n\n    return {\n      grossWeight: Number(grossWeight.toFixed(1)),\n      netWeight: Number(itemTotals.net.toFixed(1))\n    };\n  };\n\n  useEffect(() => {\n    const { grossWeight, netWeight } = calculateTotals(packageItems);\n    setTotals(prev => ({\n      ...prev,\n      grossWeight,\n      netWeight\n    }));\n  }, [packageItems, packageType]);\n\n  useEffect(() => {\n    if (packageType === 'pallet') {\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          length: 80,\n          width: 120,\n          height: 0\n        }\n      }));\n    } else if (packageItems.length > 0) {\n      const firstProduct = packageItems[0].product;\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          length: firstProduct.boxDimensions.length,\n          width: firstProduct.boxDimensions.width,\n          height: firstProduct.boxDimensions.height\n        }\n      }));\n    }\n  }, [packageType, packageItems]);\n\n  const handleTotalChange = (\n    field: keyof PackageTotals | keyof PackageTotals['dimensions'],\n    value: string\n  ) => {\n    const numValue = parseFloat(value) || 0;\n    if (field === 'grossWeight' || field === 'netWeight') {\n      setTotals(prev => ({\n        ...prev,\n        [field]: Number(numValue.toFixed(1))\n      }));\n    } else {\n      setTotals(prev => ({\n        ...prev,\n        dimensions: {\n          ...prev.dimensions,\n          [field]: Number(numValue.toFixed(1))\n        }\n      }));\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-48\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800 dark:text-white\">\n          {isEditing ? 'Edit Packing List' : 'Create New Packing List'}\n        </h2>\n        <button\n          onClick={() => navigate('/packing-list')}\n          className=\"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\"\n        >\n          Back to List\n        </button>\n      </div>\n\n      <div className=\"flex gap-6\">\n        <div className=\"flex-1\">\n          <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg p-6\">\n            <div className=\"space-y-6\">\n              {/* Package Type Switch */}\n              <div className=\"flex items-center space-x-4\">\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Package Type:</span>\n                <div className=\"flex bg-gray-200 dark:bg-gray-700 rounded-lg p-1\">\n                  <button\n                    onClick={() => setPackageType('pallet')}\n                    className={`\n                      px-4 py-2 text-sm font-medium rounded-md\n                      ${packageType === 'pallet'\n                        ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow'\n                        : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\n                      }\n                    `}\n                  >\n                    Pallet\n                  </button>\n                  <button\n                    onClick={() => setPackageType('carton')}\n                    className={`\n                      px-4 py-2 text-sm font-medium rounded-md\n                      ${packageType === 'carton'\n                        ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow'\n                        : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\n                      }\n                    `}\n                  >\n                    Carton\n                  </button>\n                </div>\n              </div>\n\n              {/* Package Number Range */}\n              <div className=\"flex items-center space-x-4\">\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Package No:</span>\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={packageRange.start}\n                    onChange={(e) => handleRangeChange('start', e.target.value)}\n                    className=\"w-20 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                    disabled={packageType === 'pallet'}\n                  />\n                  {packageType === 'carton' && (\n                    <>\n                      <span className=\"text-gray-500 dark:text-gray-400\">to</span>\n                      <input\n                        type=\"number\"\n                        min={packageRange.start}\n                        value={packageRange.end}\n                        onChange={(e) => handleRangeChange('end', e.target.value)}\n                        className=\"w-20 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                      />\n                    </>\n                  )}\n                </div>\n              </div>\n\n              {/* Product List */}\n              <div className=\"space-y-4\">\n                {packageItems.map((item, index) => (\n                  <div key={index} className=\"flex items-center space-x-4 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg\">\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium text-gray-900 dark:text-white\">{item.product.name}</p>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        Weight: {item.totalGrossWeight} kg gross / {item.totalNetWeight} kg net\n                      </p>\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.quantity}\n                        onChange={(e) => handleQuantityChange(index, e.target.value)}\n                        className=\"w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                      />\n                      <button\n                        onClick={() => handleRemoveProduct(index)}\n                        className=\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\"\n                      >\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                ))}\n\n                {/* Add Product Button */}\n                <div className=\"relative\">\n                  <button\n                    type=\"button\"\n                    className=\"w-full px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md focus:outline-none\"\n                    onClick={() => {\n                      const menu = document.getElementById('productMenu');\n                      if (menu) menu.classList.toggle('hidden');\n                    }}\n                  >\n                    + Add Product\n                  </button>\n\n                  {/* Product Dropdown Menu */}\n                  <div\n                    id=\"productMenu\"\n                    className=\"hidden absolute z-10 mt-2 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 max-h-60 overflow-auto\"\n                  >\n                    {products\n                      .filter(product => !packageItems.some(item => item.product.id === product.id))\n                      .map(product => (\n                        <button\n                          key={product.id}\n                          className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                          onClick={() => {\n                            handleAddProduct(product);\n                            const menu = document.getElementById('productMenu');\n                            if (menu) menu.classList.add('hidden');\n                          }}\n                        >\n                          <div className=\"font-medium\">{product.name}</div>\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            HS Code: {product.hsCode} | Box Qty: {product.boxQuantity}\n                          </div>\n                        </button>\n                      ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Sağ taraf - Totals */}\n        <div className=\"w-80 bg-white dark:bg-gray-800 shadow rounded-lg p-6 h-fit sticky top-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Package Totals</h3>\n          \n          <div className=\"space-y-4\">\n            {/* Weights */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Total Gross Weight (kg)\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                value={totals.grossWeight}\n                onChange={(e) => handleTotalChange('grossWeight', e.target.value)}\n                className=\"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Total Net Weight (kg)\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                value={totals.netWeight}\n                onChange={(e) => handleTotalChange('netWeight', e.target.value)}\n                className=\"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n              />\n            </div>\n\n            {/* Dimensions */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Dimensions (cm)\n              </label>\n              <div className=\"grid grid-cols-3 gap-2\">\n                <div>\n                  <input\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={totals.dimensions.length}\n                    onChange={(e) => handleTotalChange('length', e.target.value)}\n                    placeholder=\"Length\"\n                    className=\"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  />\n                </div>\n                <div>\n                  <input\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={totals.dimensions.width}\n                    onChange={(e) => handleTotalChange('width', e.target.value)}\n                    placeholder=\"Width\"\n                    className=\"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  />\n                </div>\n                <div>\n                  <input\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={totals.dimensions.height}\n                    onChange={(e) => handleTotalChange('height', e.target.value)}\n                    placeholder=\"Height\"\n                    className=\"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Add Package Button */}\n            <button\n              type=\"button\"\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 mt-4\"\n            >\n              Add Package\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}